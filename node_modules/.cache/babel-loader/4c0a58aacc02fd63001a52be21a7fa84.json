{"ast":null,"code":"import _objectSpread from\"D:/projects/noteApp/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/projects/noteApp/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/projects/noteApp/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\projects\\\\noteApp\\\\app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import jwtDecode from'jwt-decode';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){var token=localStorage.getItem(\"userToken\");var decode=jwtDecode(token);console.log(decode);var baseurl=\"https://route-egypt-api.herokuapp.com/\";var userID=decode._id;console.log(userID);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setnotes=_useState2[1];function getAllNote(){return _getAllNote.apply(this,arguments);}function _getAllNote(){_getAllNote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(baseurl+\"getUserNotes\",{headers:{token:token,userID:userID}});case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;if(data.message==\"success\"){setnotes(data.Notes);}else{setnotes([]);}case 5:case\"end\":return _context.stop();}}},_callee);}));return _getAllNote.apply(this,arguments);}useEffect(function(){getAllNote();},[]);var _useState3=useState({title:\"\",desc:\"\",userID:userID,token:token}),_useState4=_slicedToArray(_useState3,2),note=_useState4[0],setnote=_useState4[1];function getnote(e){var myuser=_objectSpread({},note);myuser[e.target.name]=e.target.value;setnote(myuser);}function addNote(_x){return _addNote.apply(this,arguments);}function _addNote(){_addNote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return axios.post(baseurl+\"addNote\",note);case 3:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;console.log(data);if(data.message==\"success\"){getAllNote();}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _addNote.apply(this,arguments);}function deletNote(_x2){return _deletNote.apply(this,arguments);}function _deletNote(){_deletNote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(NoteID){var _yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(baseurl+\"deleteNote\",{data:{NoteID:NoteID,token:token}});case 2:_yield$axios$delete=_context3.sent;data=_yield$axios$delete.data;getAllNote();case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _deletNote.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 text-end\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"add p-2 btn\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle\"}),\" Add New\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:addNote,children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:getnote,placeholder:\"Type Title\",name:\"title\",className:\"form-control\",type:\"text\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:getnote,className:\"form-control my-2\",placeholder:\"Type your note\",name:\"desc\",id:\"\",cols:\"30\",rows:\"10\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsxs(\"button\",{\"data-bs-dismiss\":\"modal\",type:\"submit\",className:\"btn btn-info\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle\"}),\" Add Note\"]})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:notes.map(function(note,index){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 my-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"note p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"float-start\",children:note.title}),/*#__PURE__*/_jsx(\"a\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit float-end edit\"})}),/*#__PURE__*/_jsxs(\"a\",{onClick:function onClick(){return deletNote(note._id);},children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt float-end px-3 del\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"clearfix\"}),/*#__PURE__*/_jsx(\"p\",{children:note.desc})]})},index);})})})]});}","map":{"version":3,"sources":["D:/projects/noteApp/app/src/componet/Home/Home.jsx"],"names":["React","useEffect","useState","jwtDecode","axios","Home","token","localStorage","getItem","decode","console","log","baseurl","userID","_id","notes","setnotes","getAllNote","get","headers","data","message","Notes","title","desc","note","setnote","getnote","e","myuser","target","name","value","addNote","preventDefault","post","deletNote","NoteID","delete","map","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport jwtDecode from 'jwt-decode';\r\nimport axios from 'axios';\r\nexport default function Home() {\r\n    let token = localStorage.getItem(\"userToken\")\r\n    let decode = jwtDecode(token)\r\n    console.log(decode);\r\n    let baseurl = \"https://route-egypt-api.herokuapp.com/\"\r\n    let userID = decode._id\r\n    console.log(userID);\r\n\r\n    const [notes, setnotes] = useState([])\r\n\r\n    async function getAllNote() {\r\n        let { data } = await axios.get(baseurl + \"getUserNotes\", {\r\n            headers: {\r\n                token, userID\r\n            }\r\n        })\r\n\r\n        if (data.message == \"success\") {\r\n            setnotes(data.Notes)\r\n        }\r\n        else {\r\n            setnotes([])\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getAllNote()\r\n    }, [])\r\n\r\n    const [note, setnote] = useState({\r\n        title: \"\",\r\n        desc: \"\",\r\n        userID, token\r\n    })\r\n    function getnote(e) {\r\n        let myuser = { ...note }\r\n        myuser[e.target.name] = e.target.value;\r\n        setnote(myuser)\r\n    }\r\n\r\n    async function addNote(e) {\r\n        e.preventDefault()\r\n        let { data } = await axios.post(baseurl + \"addNote\", note)\r\n        console.log(data);\r\n        if (data.message == \"success\") {\r\n            getAllNote()}\r\n    }\r\n\r\n\r\n  async function deletNote(NoteID) {\r\n       let {data}= await axios.delete(baseurl +\"deleteNote\",{\r\n           data:{\r\n            NoteID,\r\n            token\r\n           }\r\n         \r\n       }) \r\n       getAllNote()\r\n    }\r\n    return (\r\n        <>\r\n\r\n\r\n\r\n\r\n            <div className=\"container my-5\">\r\n                <div className=\"col-md-12 text-end\">\r\n                    <a className=\"add p-2 btn\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                        <i className=\"fas fa-plus-circle\">\r\n                        </i> Add New</a>\r\n                </div>\r\n            </div>\r\n            {/*====================Modal =========================== */}\r\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <form onSubmit={addNote}  >\r\n                    <div className=\"modal-dialog\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <input onChange={getnote} placeholder=\"Type Title\" name=\"title\" className=\"form-control\" type=\"text\" />\r\n                                <textarea onChange={getnote} className=\"form-control my-2\" placeholder=\"Type your note\" name=\"desc\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\r\n                            </div>\r\n                            <div className=\"modal-footer\">\r\n                                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                                <button data-bs-dismiss=\"modal\" type=\"submit\" className=\"btn btn-info\"><i className=\"fas fa-plus-circle\"></i> Add Note</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            {/* <!-- ==========================Notes=============================== --> */}\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n\r\n                    {notes.map((note, index) => {\r\n                        return (\r\n\r\n                            <div key={index} className=\"col-md-4 my-4\">\r\n                                <div className=\"note p-4\">\r\n                                    <h3 className=\"float-start\">{note.title}</h3>\r\n                                    <a ><i className=\"fas fa-edit float-end edit\"></i></a>\r\n                                    <a onClick={()=>deletNote(note._id)} > <i className=\"fas fa-trash-alt float-end px-3 del\"></i></a>\r\n                                    <span className=\"clearfix\"></span>\r\n                                    <p>{note.desc}</p>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}